Sending build context to Docker daemon  361.5kB

Step 1/45 : FROM nvcr.io/nvidia/pytorch:23.04-py3
 ---> b4428941db4f
Step 2/45 : LABEL maintainer="tothemoon"
 ---> Using cache
 ---> 130c4b25fea1
Step 3/45 : WORKDIR /workspace
 ---> Using cache
 ---> 65bfa942c3bf
Step 4/45 : RUN curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg   && chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg   && echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | tee /etc/apt/sources.list.d/github-cli.list > /dev/null   && apt update -y   && apt install gh -y
 ---> Using cache
 ---> 9915e561739b
Step 5/45 : RUN apt install -y libaio-dev
 ---> Using cache
 ---> a5da7900affa
Step 6/45 : RUN apt install -y netcat
 ---> Using cache
 ---> 8609dc14d08b
Step 7/45 : RUN apt install -y git-lfs
 ---> Using cache
 ---> bba1640a3328
Step 8/45 : RUN apt install -y htop
 ---> Using cache
 ---> dbc1777f75d6
Step 9/45 : RUN apt install -y screen
 ---> Using cache
 ---> ef12487fdb2f
Step 10/45 : RUN apt install -y tmux
 ---> Using cache
 ---> ff9c0d68a8d9
Step 11/45 : RUN apt install -y locales     && locale-gen en_US.UTF-8     && locale-gen zh_CN.UTF-8     && echo -e 'export LANG=zh_CN.UTF-8' >> /root/.bashrc
 ---> Using cache
 ---> f2c351281834
Step 12/45 : RUN DEBIAN_FRONTEND=noninteractive apt install -y tzdata     && ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
 ---> Using cache
 ---> 277f7d88b8c2
Step 13/45 : RUN apt install -y net-tools
 ---> Using cache
 ---> c69e178c3d64
Step 14/45 : RUN apt install -y openssh-server     && sed -i "s/#PermitRootLogin prohibit-password/PermitRootLogin yes/" /etc/ssh/sshd_config     && sed -i "s/#PubkeyAuthentication yes/PubkeyAuthentication yes/" /etc/ssh/sshd_config     && sed -i "s/#PasswordAuthentication yes/PasswordAuthentication no/" /etc/ssh/sshd_config     && echo "StrictHostKeyChecking no" >> /etc/ssh/ssh_config     && mkdir -p /run/sshd
 ---> Using cache
 ---> a367bcb2f033
Step 15/45 : RUN apt install -y pdsh     && chown root:root /usr/lib/x86_64-linux-gnu/pdsh     && chmod 755 /usr/lib/x86_64-linux-gnu/pdsh     && chown root:root /usr/lib     && chmod 755 /usr/lib
 ---> Using cache
 ---> 2c779adbc54a
Step 16/45 : RUN apt install -y bash-completion
 ---> Using cache
 ---> eb8d29787e20
Step 17/45 : RUN apt install -y socat
 ---> Using cache
 ---> de67ebfd340d
Step 18/45 : RUN apt install -y locate
 ---> Using cache
 ---> d1c2d27efb8b
Step 19/45 : RUN apt install -y cron
 ---> Using cache
 ---> 0ed1c3eb7d82
Step 20/45 : RUN apt install -y zip
 ---> Using cache
 ---> f87333fa6e3f
Step 21/45 : RUN apt install -y fuse
 ---> Using cache
 ---> cfa642ac23d6
Step 22/45 : RUN pip install -U --no-cache-dir pip
 ---> Using cache
 ---> b0cb1c763c84
Step 23/45 : RUN pip install -U --no-cache-dir setuptools
 ---> Using cache
 ---> 942280971fef
Step 24/45 : RUN pip install -U --no-cache-dir --no-deps xformers==0.0.22.post7 --index-url https://download.pytorch.org/whl/cu121
 ---> Using cache
 ---> abbe3698a42a
Step 25/45 : RUN git clone https://github.com/Dao-AILab/flash-attention.git     && cd flash-attention     && git checkout v2.5.4     && MAX_JOBS=128 python setup.py install
 ---> Using cache
 ---> 7d1631739687
Step 26/45 : RUN cd flash-attention/csrc/layer_norm     && MAX_JOBS=128 pip install .
 ---> Running in 5765ffc6bba5
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Processing /workspace/flash-attention/csrc/layer_norm
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Building wheels for collected packages: dropout_layer_norm
  Building wheel for dropout_layer_norm (setup.py): started
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): still running...
  Building wheel for dropout_layer_norm (setup.py): finished with status 'done'
  Created wheel for dropout_layer_norm: filename=dropout_layer_norm-0.1-cp38-cp38-linux_x86_64.whl size=152214889 sha256=deec566fab4d0781f2dd7cbe7a2d768403624d7c4f5d6f92e976b5a50236cd96
  Stored in directory: /tmp/pip-ephem-wheel-cache-36n1csrr/wheels/6a/13/0d/821ec938d70e5ff4636e03fe98796f7cbd66e5dd38d172ef7f
Successfully built dropout_layer_norm
Installing collected packages: dropout_layer_norm
Successfully installed dropout_layer_norm-0.1
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 5765ffc6bba5
 ---> 46adedcab280
Step 27/45 : RUN pip install -U --no-cache-dir bitsandbytes
 ---> Running in 6ed1f9cfdf09
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting bitsandbytes
  Downloading bitsandbytes-0.42.0-py3-none-any.whl.metadata (9.9 kB)
Requirement already satisfied: scipy in /usr/local/lib/python3.8/dist-packages (from bitsandbytes) (1.10.1)
Requirement already satisfied: numpy<1.27.0,>=1.19.5 in /usr/local/lib/python3.8/dist-packages (from scipy->bitsandbytes) (1.22.2)
Downloading bitsandbytes-0.42.0-py3-none-any.whl (105.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 105.0/105.0 MB 3.5 MB/s eta 0:00:00
Installing collected packages: bitsandbytes
Successfully installed bitsandbytes-0.42.0
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 6ed1f9cfdf09
 ---> ad59f12f8762
Step 28/45 : RUN pip install -U --no-cache-dir gradio
 ---> Running in c80373c4ba4f
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting gradio
  Downloading gradio-4.19.1-py3-none-any.whl.metadata (15 kB)
Collecting aiofiles<24.0,>=22.0 (from gradio)
  Downloading aiofiles-23.2.1-py3-none-any.whl.metadata (9.7 kB)
Collecting altair<6.0,>=4.2.0 (from gradio)
  Downloading altair-5.2.0-py3-none-any.whl.metadata (8.7 kB)
Collecting fastapi (from gradio)
  Downloading fastapi-0.109.2-py3-none-any.whl.metadata (25 kB)
Collecting ffmpy (from gradio)
  Downloading ffmpy-0.3.2.tar.gz (5.5 kB)
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Collecting gradio-client==0.10.0 (from gradio)
  Downloading gradio_client-0.10.0-py3-none-any.whl.metadata (7.1 kB)
Collecting httpx (from gradio)
  Downloading httpx-0.27.0-py3-none-any.whl.metadata (7.2 kB)
Collecting huggingface-hub>=0.19.3 (from gradio)
  Downloading huggingface_hub-0.20.3-py3-none-any.whl.metadata (12 kB)
Requirement already satisfied: importlib-resources<7.0,>=1.3 in /usr/local/lib/python3.8/dist-packages (from gradio) (5.12.0)
Requirement already satisfied: jinja2<4.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (3.1.2)
Requirement already satisfied: markupsafe~=2.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (2.1.2)
Requirement already satisfied: matplotlib~=3.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (3.7.1)
Requirement already satisfied: numpy~=1.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (1.22.2)
Collecting orjson~=3.0 (from gradio)
  Downloading orjson-3.9.14-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (49 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 49.4/49.4 kB 735.9 kB/s eta 0:00:00
Requirement already satisfied: packaging in /usr/local/lib/python3.8/dist-packages (from gradio) (23.0)
Requirement already satisfied: pandas<3.0,>=1.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (1.5.2)
Requirement already satisfied: pillow<11.0,>=8.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (9.2.0)
Collecting pydantic>=2.0 (from gradio)
  Downloading pydantic-2.6.1-py3-none-any.whl.metadata (83 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 83.5/83.5 kB 22.9 MB/s eta 0:00:00
Collecting pydub (from gradio)
  Downloading pydub-0.25.1-py2.py3-none-any.whl (32 kB)
Collecting python-multipart>=0.0.9 (from gradio)
  Downloading python_multipart-0.0.9-py3-none-any.whl.metadata (2.5 kB)
Requirement already satisfied: pyyaml<7.0,>=5.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (6.0)
Collecting ruff>=0.1.7 (from gradio)
  Downloading ruff-0.2.2-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (23 kB)
Collecting semantic-version~=2.0 (from gradio)
  Downloading semantic_version-2.10.0-py2.py3-none-any.whl.metadata (9.7 kB)
Collecting tomlkit==0.12.0 (from gradio)
  Downloading tomlkit-0.12.0-py3-none-any.whl.metadata (2.7 kB)
Collecting typer<1.0,>=0.9 (from typer[all]<1.0,>=0.9->gradio)
  Downloading typer-0.9.0-py3-none-any.whl.metadata (14 kB)
Requirement already satisfied: typing-extensions~=4.0 in /usr/local/lib/python3.8/dist-packages (from gradio) (4.5.0)
Collecting uvicorn>=0.14.0 (from gradio)
  Downloading uvicorn-0.27.1-py3-none-any.whl.metadata (6.3 kB)
Requirement already satisfied: fsspec in /usr/local/lib/python3.8/dist-packages (from gradio-client==0.10.0->gradio) (2023.4.0)
Collecting websockets<12.0,>=10.0 (from gradio-client==0.10.0->gradio)
  Downloading websockets-11.0.3-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)
Requirement already satisfied: jsonschema>=3.0 in /usr/local/lib/python3.8/dist-packages (from altair<6.0,>=4.2.0->gradio) (4.17.3)
Requirement already satisfied: toolz in /usr/local/lib/python3.8/dist-packages (from altair<6.0,>=4.2.0->gradio) (0.12.0)
Requirement already satisfied: filelock in /usr/local/lib/python3.8/dist-packages (from huggingface-hub>=0.19.3->gradio) (3.11.0)
Collecting fsspec (from gradio-client==0.10.0->gradio)
  Downloading fsspec-2024.2.0-py3-none-any.whl.metadata (6.8 kB)
Requirement already satisfied: requests in /usr/local/lib/python3.8/dist-packages (from huggingface-hub>=0.19.3->gradio) (2.28.2)
Requirement already satisfied: tqdm>=4.42.1 in /usr/local/lib/python3.8/dist-packages (from huggingface-hub>=0.19.3->gradio) (4.65.0)
Requirement already satisfied: zipp>=3.1.0 in /usr/local/lib/python3.8/dist-packages (from importlib-resources<7.0,>=1.3->gradio) (3.15.0)
Requirement already satisfied: contourpy>=1.0.1 in /usr/local/lib/python3.8/dist-packages (from matplotlib~=3.0->gradio) (1.0.7)
Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.8/dist-packages (from matplotlib~=3.0->gradio) (0.11.0)
Requirement already satisfied: fonttools>=4.22.0 in /usr/local/lib/python3.8/dist-packages (from matplotlib~=3.0->gradio) (4.39.3)
Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.8/dist-packages (from matplotlib~=3.0->gradio) (1.4.4)
Requirement already satisfied: pyparsing>=2.3.1 in /usr/local/lib/python3.8/dist-packages (from matplotlib~=3.0->gradio) (3.0.9)
Requirement already satisfied: python-dateutil>=2.7 in /usr/local/lib/python3.8/dist-packages (from matplotlib~=3.0->gradio) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.8/dist-packages (from pandas<3.0,>=1.0->gradio) (2023.3)
Collecting annotated-types>=0.4.0 (from pydantic>=2.0->gradio)
  Downloading annotated_types-0.6.0-py3-none-any.whl.metadata (12 kB)
Collecting pydantic-core==2.16.2 (from pydantic>=2.0->gradio)
  Downloading pydantic_core-2.16.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.5 kB)
Collecting typing-extensions~=4.0 (from gradio)
  Downloading typing_extensions-4.9.0-py3-none-any.whl.metadata (3.0 kB)
Requirement already satisfied: click<9.0.0,>=7.1.1 in /usr/local/lib/python3.8/dist-packages (from typer<1.0,>=0.9->typer[all]<1.0,>=0.9->gradio) (8.1.3)
Collecting colorama<0.5.0,>=0.4.3 (from typer[all]<1.0,>=0.9->gradio)
  Downloading colorama-0.4.6-py2.py3-none-any.whl.metadata (17 kB)
Collecting shellingham<2.0.0,>=1.3.0 (from typer[all]<1.0,>=0.9->gradio)
  Downloading shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)
Collecting rich<14.0.0,>=10.11.0 (from typer[all]<1.0,>=0.9->gradio)
  Downloading rich-13.7.0-py3-none-any.whl.metadata (18 kB)
Collecting h11>=0.8 (from uvicorn>=0.14.0->gradio)
  Downloading h11-0.14.0-py3-none-any.whl.metadata (8.2 kB)
Collecting starlette<0.37.0,>=0.36.3 (from fastapi->gradio)
  Downloading starlette-0.36.3-py3-none-any.whl.metadata (5.9 kB)
Collecting anyio (from httpx->gradio)
  Downloading anyio-4.3.0-py3-none-any.whl.metadata (4.6 kB)
Requirement already satisfied: certifi in /usr/local/lib/python3.8/dist-packages (from httpx->gradio) (2022.12.7)
Collecting httpcore==1.* (from httpx->gradio)
  Downloading httpcore-1.0.4-py3-none-any.whl.metadata (20 kB)
Requirement already satisfied: idna in /usr/local/lib/python3.8/dist-packages (from httpx->gradio) (3.4)
Collecting sniffio (from httpx->gradio)
  Downloading sniffio-1.3.0-py3-none-any.whl.metadata (3.6 kB)
Requirement already satisfied: attrs>=17.4.0 in /usr/local/lib/python3.8/dist-packages (from jsonschema>=3.0->altair<6.0,>=4.2.0->gradio) (22.2.0)
Requirement already satisfied: pkgutil-resolve-name>=1.3.10 in /usr/local/lib/python3.8/dist-packages (from jsonschema>=3.0->altair<6.0,>=4.2.0->gradio) (1.3.10)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in /usr/local/lib/python3.8/dist-packages (from jsonschema>=3.0->altair<6.0,>=4.2.0->gradio) (0.19.3)
Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.8/dist-packages (from python-dateutil>=2.7->matplotlib~=3.0->gradio) (1.16.0)
Requirement already satisfied: markdown-it-py>=2.2.0 in /usr/local/lib/python3.8/dist-packages (from rich<14.0.0,>=10.11.0->typer[all]<1.0,>=0.9->gradio) (2.2.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /usr/local/lib/python3.8/dist-packages (from rich<14.0.0,>=10.11.0->typer[all]<1.0,>=0.9->gradio) (2.15.0)
Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.8/dist-packages (from anyio->httpx->gradio) (1.1.1)
Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.8/dist-packages (from requests->huggingface-hub>=0.19.3->gradio) (3.1.0)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.8/dist-packages (from requests->huggingface-hub>=0.19.3->gradio) (1.26.15)
Requirement already satisfied: mdurl~=0.1 in /usr/local/lib/python3.8/dist-packages (from markdown-it-py>=2.2.0->rich<14.0.0,>=10.11.0->typer[all]<1.0,>=0.9->gradio) (0.1.2)
Downloading gradio-4.19.1-py3-none-any.whl (16.9 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.9/16.9 MB 3.3 MB/s eta 0:00:00
Downloading gradio_client-0.10.0-py3-none-any.whl (307 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 307.7/307.7 kB 3.9 MB/s eta 0:00:00
Downloading tomlkit-0.12.0-py3-none-any.whl (37 kB)
Downloading aiofiles-23.2.1-py3-none-any.whl (15 kB)
Downloading altair-5.2.0-py3-none-any.whl (996 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 996.9/996.9 kB 3.0 MB/s eta 0:00:00
Downloading huggingface_hub-0.20.3-py3-none-any.whl (330 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 330.1/330.1 kB 2.0 MB/s eta 0:00:00
Downloading orjson-3.9.14-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (138 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 138.7/138.7 kB 5.0 MB/s eta 0:00:00
Downloading pydantic-2.6.1-py3-none-any.whl (394 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 394.8/394.8 kB 4.9 MB/s eta 0:00:00
Downloading pydantic_core-2.16.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.2/2.2 MB 5.8 MB/s eta 0:00:00
Downloading python_multipart-0.0.9-py3-none-any.whl (22 kB)
Downloading ruff-0.2.2-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (7.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.8/7.8 MB 4.3 MB/s eta 0:00:00
Downloading semantic_version-2.10.0-py2.py3-none-any.whl (15 kB)
Downloading typer-0.9.0-py3-none-any.whl (45 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 45.9/45.9 kB 6.9 MB/s eta 0:00:00
Downloading typing_extensions-4.9.0-py3-none-any.whl (32 kB)
Downloading uvicorn-0.27.1-py3-none-any.whl (60 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 60.8/60.8 kB 394.5 kB/s eta 0:00:00
Downloading fastapi-0.109.2-py3-none-any.whl (92 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 92.1/92.1 kB 4.9 MB/s eta 0:00:00
Downloading httpx-0.27.0-py3-none-any.whl (75 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 75.6/75.6 kB 3.1 MB/s eta 0:00:00
Downloading httpcore-1.0.4-py3-none-any.whl (77 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.8/77.8 kB 10.1 MB/s eta 0:00:00
Downloading annotated_types-0.6.0-py3-none-any.whl (12 kB)
Downloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)
Downloading fsspec-2024.2.0-py3-none-any.whl (170 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 170.9/170.9 kB 84.2 kB/s eta 0:00:00
Downloading h11-0.14.0-py3-none-any.whl (58 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.3/58.3 kB 125.6 kB/s eta 0:00:00
Downloading rich-13.7.0-py3-none-any.whl (240 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 240.6/240.6 kB 149.9 kB/s eta 0:00:00
Downloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
Downloading starlette-0.36.3-py3-none-any.whl (71 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 71.5/71.5 kB 927.8 kB/s eta 0:00:00
Downloading anyio-4.3.0-py3-none-any.whl (85 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 85.6/85.6 kB 174.3 kB/s eta 0:00:00
Downloading sniffio-1.3.0-py3-none-any.whl (10 kB)
Downloading websockets-11.0.3-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (130 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 130.2/130.2 kB 321.5 kB/s eta 0:00:00
Building wheels for collected packages: ffmpy
  Building wheel for ffmpy (setup.py): started
  Building wheel for ffmpy (setup.py): finished with status 'done'
  Created wheel for ffmpy: filename=ffmpy-0.3.2-py3-none-any.whl size=5601 sha256=9cae49aebc2b88a82f510af6448d31fc0eaf8de1a910d1de6050c7a4b17397fb
  Stored in directory: /tmp/pip-ephem-wheel-cache-w5_37v1q/wheels/e1/2c/52/5e817a3b09f1081927f4c27751360f0189ae6957c99b6b132a
Successfully built ffmpy
Installing collected packages: pydub, ffmpy, websockets, typing-extensions, tomlkit, sniffio, shellingham, semantic-version, ruff, python-multipart, orjson, h11, fsspec, colorama, aiofiles, uvicorn, typer, rich, pydantic-core, huggingface-hub, httpcore, anyio, annotated-types, starlette, pydantic, httpx, altair, gradio-client, fastapi, gradio
  Attempting uninstall: typing-extensions
    Found existing installation: typing_extensions 4.5.0
    Uninstalling typing_extensions-4.5.0:
      Successfully uninstalled typing_extensions-4.5.0
  Attempting uninstall: fsspec
    Found existing installation: fsspec 2023.4.0
    Uninstalling fsspec-2023.4.0:
      Successfully uninstalled fsspec-2023.4.0
  Attempting uninstall: typer
    Found existing installation: typer 0.7.0
    Uninstalling typer-0.7.0:
      Successfully uninstalled typer-0.7.0
  Attempting uninstall: pydantic
    Found existing installation: pydantic 1.10.7
    Uninstalling pydantic-1.10.7:
      Successfully uninstalled pydantic-1.10.7
[91mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
confection 0.0.4 requires pydantic!=1.8,!=1.8.1,<1.11.0,>=1.7.4, but you have pydantic 2.6.1 which is incompatible.
spacy 3.5.2 requires pydantic!=1.8,!=1.8.1,<1.11.0,>=1.7.4, but you have pydantic 2.6.1 which is incompatible.
spacy 3.5.2 requires typer<0.8.0,>=0.3.0, but you have typer 0.9.0 which is incompatible.
thinc 8.1.9 requires pydantic!=1.8,!=1.8.1,<1.11.0,>=1.7.4, but you have pydantic 2.6.1 which is incompatible.
xformers 0.0.22.post7 requires torch==2.1.0, but you have torch 2.1.0a0+fe05266 which is incompatible.
[0mSuccessfully installed aiofiles-23.2.1 altair-5.2.0 annotated-types-0.6.0 anyio-4.3.0 colorama-0.4.6 fastapi-0.109.2 ffmpy-0.3.2 fsspec-2024.2.0 gradio-4.19.1 gradio-client-0.10.0 h11-0.14.0 httpcore-1.0.4 httpx-0.27.0 huggingface-hub-0.20.3 orjson-3.9.14 pydantic-2.6.1 pydantic-core-2.16.2 pydub-0.25.1 python-multipart-0.0.9 rich-13.7.0 ruff-0.2.2 semantic-version-2.10.0 shellingham-1.5.4 sniffio-1.3.0 starlette-0.36.3 tomlkit-0.12.0 typer-0.9.0 typing-extensions-4.9.0 uvicorn-0.27.1 websockets-11.0.3
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container c80373c4ba4f
 ---> 51f7e906376f
Step 29/45 : RUN pip install -U --no-cache-dir pudb
 ---> Running in 1ca3d7f43345
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting pudb
  Downloading pudb-2024.1.tar.gz (226 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 226.0/226.0 kB 465.7 kB/s eta 0:00:00
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Installing backend dependencies: started
  Installing backend dependencies: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting urwid>=2.4 (from pudb)
  Downloading urwid-2.6.4-py3-none-any.whl.metadata (11 kB)
Requirement already satisfied: pygments>=2.7.4 in /usr/local/lib/python3.8/dist-packages (from pudb) (2.15.0)
Requirement already satisfied: jedi<1,>=0.18 in /usr/local/lib/python3.8/dist-packages (from pudb) (0.18.2)
Collecting urwid-readline (from pudb)
  Downloading urwid_readline-0.13.tar.gz (7.9 kB)
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Installing backend dependencies: started
  Installing backend dependencies: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.8/dist-packages (from pudb) (23.0)
Requirement already satisfied: parso<0.9.0,>=0.8.0 in /usr/local/lib/python3.8/dist-packages (from jedi<1,>=0.18->pudb) (0.8.3)
Requirement already satisfied: typing-extensions in /usr/local/lib/python3.8/dist-packages (from urwid>=2.4->pudb) (4.9.0)
Requirement already satisfied: wcwidth in /usr/local/lib/python3.8/dist-packages (from urwid>=2.4->pudb) (0.2.6)
Downloading urwid-2.6.4-py3-none-any.whl (292 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 292.2/292.2 kB 775.0 kB/s eta 0:00:00
Building wheels for collected packages: pudb, urwid-readline
  Building wheel for pudb (pyproject.toml): started
  Building wheel for pudb (pyproject.toml): finished with status 'done'
  Created wheel for pudb: filename=pudb-2024.1-py3-none-any.whl size=86997 sha256=7b38af1e9a3898a79554b6bff414b1774f96aa88f156e9ae25dd5a76b47b4751
  Stored in directory: /tmp/pip-ephem-wheel-cache-o3f60ht0/wheels/00/61/e0/012f37f08ce3d186a05b9059aec0bebbdeea57c030bac40041
  Building wheel for urwid-readline (pyproject.toml): started
  Building wheel for urwid-readline (pyproject.toml): finished with status 'done'
  Created wheel for urwid-readline: filename=urwid_readline-0.13-py3-none-any.whl size=7568 sha256=51efaa96db6bf91e779e3f7d1a9c16e60da8869489a07290991701620630dc63
  Stored in directory: /tmp/pip-ephem-wheel-cache-o3f60ht0/wheels/80/10/cf/57c5430b5e5033995b239456813efa2587b486130a2688ab3d
Successfully built pudb urwid-readline
Installing collected packages: urwid, urwid-readline, pudb
Successfully installed pudb-2024.1 urwid-2.6.4 urwid-readline-0.13
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 1ca3d7f43345
 ---> b42ff9f5e44d
Step 30/45 : RUN pip install -U --no-cache-dir install git+https://github.com/wookayin/gpustat.git@master     && pip uninstall -y nvidia-ml-py3 pynvml     && pip install --force-reinstall --ignore-installed 'nvidia-ml-py'
 ---> Running in 48ce65c16df8
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting git+https://github.com/wookayin/gpustat.git@master
  Cloning https://github.com/wookayin/gpustat.git (to revision master) to /tmp/pip-req-build-d8znt0im
[91m  Running command git clone --filter=blob:none --quiet https://github.com/wookayin/gpustat.git /tmp/pip-req-build-d8znt0im
[0m  Resolved https://github.com/wookayin/gpustat.git to commit 16bb82ec22ec8d6238ebcdaade762f8514212138
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting install
  Downloading install-1.3.5-py3-none-any.whl (3.2 kB)
Collecting nvidia-ml-py>=12.535.108 (from gpustat==1.2.dev22+g16bb82e)
  Downloading nvidia_ml_py-12.535.133-py3-none-any.whl.metadata (8.6 kB)
Requirement already satisfied: psutil>=5.6.0 in /usr/local/lib/python3.8/dist-packages (from gpustat==1.2.dev22+g16bb82e) (5.9.4)
Collecting blessed>=1.17.1 (from gpustat==1.2.dev22+g16bb82e)
  Downloading blessed-1.20.0-py2.py3-none-any.whl.metadata (13 kB)
Requirement already satisfied: typing-extensions in /usr/local/lib/python3.8/dist-packages (from gpustat==1.2.dev22+g16bb82e) (4.9.0)
Requirement already satisfied: wcwidth>=0.1.4 in /usr/local/lib/python3.8/dist-packages (from blessed>=1.17.1->gpustat==1.2.dev22+g16bb82e) (0.2.6)
Requirement already satisfied: six>=1.9.0 in /usr/local/lib/python3.8/dist-packages (from blessed>=1.17.1->gpustat==1.2.dev22+g16bb82e) (1.16.0)
Downloading blessed-1.20.0-py2.py3-none-any.whl (58 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.4/58.4 kB 371.8 kB/s eta 0:00:00
Downloading nvidia_ml_py-12.535.133-py3-none-any.whl (37 kB)
Building wheels for collected packages: gpustat
  Building wheel for gpustat (pyproject.toml): started
  Building wheel for gpustat (pyproject.toml): finished with status 'done'
  Created wheel for gpustat: filename=gpustat-1.2.dev22+g16bb82e-py3-none-any.whl size=29359 sha256=0fbfcf3a7c08dba3a8d20764d9ae2522aac04c099bb4c59bd71df061229bcafe
  Stored in directory: /tmp/pip-ephem-wheel-cache-js1eun6r/wheels/67/75/23/16ea1480bfcc4d5ef30ff9e5637402c9edf7055de48bd7975a
Successfully built gpustat
Installing collected packages: nvidia-ml-py, install, blessed, gpustat
Successfully installed blessed-1.20.0 gpustat-1.2.dev22+g16bb82e install-1.3.5 nvidia-ml-py-12.535.133
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0m[91mWARNING: Skipping nvidia-ml-py3 as it is not installed.
[0mFound existing installation: pynvml 11.4.1
Uninstalling pynvml-11.4.1:
  Successfully uninstalled pynvml-11.4.1
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mLooking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting nvidia-ml-py
  Downloading nvidia_ml_py-12.535.133-py3-none-any.whl.metadata (8.6 kB)
Downloading nvidia_ml_py-12.535.133-py3-none-any.whl (37 kB)
Installing collected packages: nvidia-ml-py
Successfully installed nvidia-ml-py-12.535.133
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 48ce65c16df8
 ---> a96ba85d65a4
Step 31/45 : RUN pip install -U --no-cache-dir ipykernel
 ---> Running in 72a4d7fe2dca
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Requirement already satisfied: ipykernel in /usr/local/lib/python3.8/dist-packages (6.22.0)
Collecting ipykernel
  Downloading ipykernel-6.29.2-py3-none-any.whl.metadata (6.0 kB)
Requirement already satisfied: comm>=0.1.1 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (0.1.3)
Requirement already satisfied: debugpy>=1.6.5 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (1.6.7)
Requirement already satisfied: ipython>=7.23.1 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (8.12.0)
Requirement already satisfied: jupyter-client>=6.1.12 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (8.2.0)
Requirement already satisfied: jupyter-core!=5.0.*,>=4.12 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (5.3.0)
Requirement already satisfied: matplotlib-inline>=0.1 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (0.1.6)
Requirement already satisfied: nest-asyncio in /usr/local/lib/python3.8/dist-packages (from ipykernel) (1.5.6)
Requirement already satisfied: packaging in /usr/local/lib/python3.8/dist-packages (from ipykernel) (23.0)
Requirement already satisfied: psutil in /usr/local/lib/python3.8/dist-packages (from ipykernel) (5.9.4)
Requirement already satisfied: pyzmq>=24 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (25.0.2)
Requirement already satisfied: tornado>=6.1 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (6.2)
Requirement already satisfied: traitlets>=5.4.0 in /usr/local/lib/python3.8/dist-packages (from ipykernel) (5.9.0)
Requirement already satisfied: backcall in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (0.2.0)
Requirement already satisfied: decorator in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (5.1.1)
Requirement already satisfied: jedi>=0.16 in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (0.18.2)
Requirement already satisfied: pickleshare in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (0.7.5)
Requirement already satisfied: prompt-toolkit!=3.0.37,<3.1.0,>=3.0.30 in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (3.0.38)
Requirement already satisfied: pygments>=2.4.0 in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (2.15.0)
Requirement already satisfied: stack-data in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (0.6.2)
Requirement already satisfied: typing-extensions in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (4.9.0)
Requirement already satisfied: pexpect>4.3 in /usr/local/lib/python3.8/dist-packages (from ipython>=7.23.1->ipykernel) (4.8.0)
Requirement already satisfied: importlib-metadata>=4.8.3 in /usr/local/lib/python3.8/dist-packages (from jupyter-client>=6.1.12->ipykernel) (6.3.0)
Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.8/dist-packages (from jupyter-client>=6.1.12->ipykernel) (2.8.2)
Requirement already satisfied: platformdirs>=2.5 in /usr/local/lib/python3.8/dist-packages (from jupyter-core!=5.0.*,>=4.12->ipykernel) (3.2.0)
Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.8/dist-packages (from importlib-metadata>=4.8.3->jupyter-client>=6.1.12->ipykernel) (3.15.0)
Requirement already satisfied: parso<0.9.0,>=0.8.0 in /usr/local/lib/python3.8/dist-packages (from jedi>=0.16->ipython>=7.23.1->ipykernel) (0.8.3)
Requirement already satisfied: ptyprocess>=0.5 in /usr/local/lib/python3.8/dist-packages (from pexpect>4.3->ipython>=7.23.1->ipykernel) (0.7.0)
Requirement already satisfied: wcwidth in /usr/local/lib/python3.8/dist-packages (from prompt-toolkit!=3.0.37,<3.1.0,>=3.0.30->ipython>=7.23.1->ipykernel) (0.2.6)
Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.8/dist-packages (from python-dateutil>=2.8.2->jupyter-client>=6.1.12->ipykernel) (1.16.0)
Requirement already satisfied: executing>=1.2.0 in /usr/local/lib/python3.8/dist-packages (from stack-data->ipython>=7.23.1->ipykernel) (1.2.0)
Requirement already satisfied: asttokens>=2.1.0 in /usr/local/lib/python3.8/dist-packages (from stack-data->ipython>=7.23.1->ipykernel) (2.2.1)
Requirement already satisfied: pure-eval in /usr/local/lib/python3.8/dist-packages (from stack-data->ipython>=7.23.1->ipykernel) (0.2.2)
Downloading ipykernel-6.29.2-py3-none-any.whl (116 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 116.1/116.1 kB 585.8 kB/s eta 0:00:00
Installing collected packages: ipykernel
  Attempting uninstall: ipykernel
    Found existing installation: ipykernel 6.22.0
    Uninstalling ipykernel-6.22.0:
      Successfully uninstalled ipykernel-6.22.0
Successfully installed ipykernel-6.29.2
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 72a4d7fe2dca
 ---> b0b5cdef8761
Step 32/45 : RUN pip install -U --no-cache-dir ipywidgets
 ---> Running in eb0a47ab0df2
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting ipywidgets
  Downloading ipywidgets-8.1.2-py3-none-any.whl.metadata (2.4 kB)
Requirement already satisfied: comm>=0.1.3 in /usr/local/lib/python3.8/dist-packages (from ipywidgets) (0.1.3)
Requirement already satisfied: ipython>=6.1.0 in /usr/local/lib/python3.8/dist-packages (from ipywidgets) (8.12.0)
Requirement already satisfied: traitlets>=4.3.1 in /usr/local/lib/python3.8/dist-packages (from ipywidgets) (5.9.0)
Collecting widgetsnbextension~=4.0.10 (from ipywidgets)
  Downloading widgetsnbextension-4.0.10-py3-none-any.whl.metadata (1.6 kB)
Collecting jupyterlab-widgets~=3.0.10 (from ipywidgets)
  Downloading jupyterlab_widgets-3.0.10-py3-none-any.whl.metadata (4.1 kB)
Requirement already satisfied: backcall in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (0.2.0)
Requirement already satisfied: decorator in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (5.1.1)
Requirement already satisfied: jedi>=0.16 in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (0.18.2)
Requirement already satisfied: matplotlib-inline in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (0.1.6)
Requirement already satisfied: pickleshare in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (0.7.5)
Requirement already satisfied: prompt-toolkit!=3.0.37,<3.1.0,>=3.0.30 in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (3.0.38)
Requirement already satisfied: pygments>=2.4.0 in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (2.15.0)
Requirement already satisfied: stack-data in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (0.6.2)
Requirement already satisfied: typing-extensions in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (4.9.0)
Requirement already satisfied: pexpect>4.3 in /usr/local/lib/python3.8/dist-packages (from ipython>=6.1.0->ipywidgets) (4.8.0)
Requirement already satisfied: parso<0.9.0,>=0.8.0 in /usr/local/lib/python3.8/dist-packages (from jedi>=0.16->ipython>=6.1.0->ipywidgets) (0.8.3)
Requirement already satisfied: ptyprocess>=0.5 in /usr/local/lib/python3.8/dist-packages (from pexpect>4.3->ipython>=6.1.0->ipywidgets) (0.7.0)
Requirement already satisfied: wcwidth in /usr/local/lib/python3.8/dist-packages (from prompt-toolkit!=3.0.37,<3.1.0,>=3.0.30->ipython>=6.1.0->ipywidgets) (0.2.6)
Requirement already satisfied: executing>=1.2.0 in /usr/local/lib/python3.8/dist-packages (from stack-data->ipython>=6.1.0->ipywidgets) (1.2.0)
Requirement already satisfied: asttokens>=2.1.0 in /usr/local/lib/python3.8/dist-packages (from stack-data->ipython>=6.1.0->ipywidgets) (2.2.1)
Requirement already satisfied: pure-eval in /usr/local/lib/python3.8/dist-packages (from stack-data->ipython>=6.1.0->ipywidgets) (0.2.2)
Requirement already satisfied: six in /usr/local/lib/python3.8/dist-packages (from asttokens>=2.1.0->stack-data->ipython>=6.1.0->ipywidgets) (1.16.0)
Downloading ipywidgets-8.1.2-py3-none-any.whl (139 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 139.4/139.4 kB 386.5 kB/s eta 0:00:00
Downloading jupyterlab_widgets-3.0.10-py3-none-any.whl (215 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 215.0/215.0 kB 1.5 MB/s eta 0:00:00
Downloading widgetsnbextension-4.0.10-py3-none-any.whl (2.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.3/2.3 MB 3.0 MB/s eta 0:00:00
Installing collected packages: widgetsnbextension, jupyterlab-widgets, ipywidgets
Successfully installed ipywidgets-8.1.2 jupyterlab-widgets-3.0.10 widgetsnbextension-4.0.10
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container eb0a47ab0df2
 ---> 341156b28c81
Step 33/45 : RUN pip install -U --no-cache-dir httpx[socks]
 ---> Running in eccf4b90bc4e
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Requirement already satisfied: httpx[socks] in /usr/local/lib/python3.8/dist-packages (0.27.0)
Requirement already satisfied: anyio in /usr/local/lib/python3.8/dist-packages (from httpx[socks]) (4.3.0)
Requirement already satisfied: certifi in /usr/local/lib/python3.8/dist-packages (from httpx[socks]) (2022.12.7)
Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.8/dist-packages (from httpx[socks]) (1.0.4)
Requirement already satisfied: idna in /usr/local/lib/python3.8/dist-packages (from httpx[socks]) (3.4)
Requirement already satisfied: sniffio in /usr/local/lib/python3.8/dist-packages (from httpx[socks]) (1.3.0)
Collecting socksio==1.* (from httpx[socks])
  Downloading socksio-1.0.0-py3-none-any.whl (12 kB)
Requirement already satisfied: h11<0.15,>=0.13 in /usr/local/lib/python3.8/dist-packages (from httpcore==1.*->httpx[socks]) (0.14.0)
Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.8/dist-packages (from anyio->httpx[socks]) (1.1.1)
Requirement already satisfied: typing-extensions>=4.1 in /usr/local/lib/python3.8/dist-packages (from anyio->httpx[socks]) (4.9.0)
Installing collected packages: socksio
Successfully installed socksio-1.0.0
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container eccf4b90bc4e
 ---> a642ff6cd2f5
Step 34/45 : RUN pip install -U --no-cache-dir wandb
 ---> Running in e4723bd8af96
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting wandb
  Downloading wandb-0.16.3-py3-none-any.whl.metadata (9.9 kB)
Requirement already satisfied: Click!=8.0.0,>=7.1 in /usr/local/lib/python3.8/dist-packages (from wandb) (8.1.3)
Collecting GitPython!=3.1.29,>=1.0.0 (from wandb)
  Downloading GitPython-3.1.42-py3-none-any.whl.metadata (12 kB)
Requirement already satisfied: requests<3,>=2.0.0 in /usr/local/lib/python3.8/dist-packages (from wandb) (2.28.2)
Requirement already satisfied: psutil>=5.0.0 in /usr/local/lib/python3.8/dist-packages (from wandb) (5.9.4)
Collecting sentry-sdk>=1.0.0 (from wandb)
  Downloading sentry_sdk-1.40.5-py2.py3-none-any.whl.metadata (9.7 kB)
Collecting docker-pycreds>=0.4.0 (from wandb)
  Downloading docker_pycreds-0.4.0-py2.py3-none-any.whl (9.0 kB)
Requirement already satisfied: PyYAML in /usr/local/lib/python3.8/dist-packages (from wandb) (6.0)
Collecting setproctitle (from wandb)
  Downloading setproctitle-1.3.3-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.9 kB)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from wandb) (69.1.0)
Collecting appdirs>=1.4.3 (from wandb)
  Downloading appdirs-1.4.4-py2.py3-none-any.whl (9.6 kB)
Requirement already satisfied: typing-extensions in /usr/local/lib/python3.8/dist-packages (from wandb) (4.9.0)
Requirement already satisfied: protobuf!=4.21.0,<5,>=3.12.0 in /usr/local/lib/python3.8/dist-packages (from wandb) (3.20.3)
Requirement already satisfied: six>=1.4.0 in /usr/local/lib/python3.8/dist-packages (from docker-pycreds>=0.4.0->wandb) (1.16.0)
Collecting gitdb<5,>=4.0.1 (from GitPython!=3.1.29,>=1.0.0->wandb)
  Downloading gitdb-4.0.11-py3-none-any.whl.metadata (1.2 kB)
Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.8/dist-packages (from requests<3,>=2.0.0->wandb) (3.1.0)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.8/dist-packages (from requests<3,>=2.0.0->wandb) (3.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.8/dist-packages (from requests<3,>=2.0.0->wandb) (1.26.15)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.8/dist-packages (from requests<3,>=2.0.0->wandb) (2022.12.7)
Collecting smmap<6,>=3.0.1 (from gitdb<5,>=4.0.1->GitPython!=3.1.29,>=1.0.0->wandb)
  Downloading smmap-5.0.1-py3-none-any.whl.metadata (4.3 kB)
Downloading wandb-0.16.3-py3-none-any.whl (2.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.2/2.2 MB 1.6 MB/s eta 0:00:00
Downloading GitPython-3.1.42-py3-none-any.whl (195 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 195.4/195.4 kB 9.5 MB/s eta 0:00:00
Downloading sentry_sdk-1.40.5-py2.py3-none-any.whl (258 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 258.5/258.5 kB 3.7 MB/s eta 0:00:00
Downloading setproctitle-1.3.3-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (31 kB)
Downloading gitdb-4.0.11-py3-none-any.whl (62 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.7/62.7 kB 10.9 MB/s eta 0:00:00
Downloading smmap-5.0.1-py3-none-any.whl (24 kB)
Installing collected packages: appdirs, smmap, setproctitle, sentry-sdk, docker-pycreds, gitdb, GitPython, wandb
Successfully installed GitPython-3.1.42 appdirs-1.4.4 docker-pycreds-0.4.0 gitdb-4.0.11 sentry-sdk-1.40.5 setproctitle-1.3.3 smmap-5.0.1 wandb-0.16.3
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container e4723bd8af96
 ---> 5a12aea3d8a7
Step 35/45 : RUN pip install -U --no-cache-dir openpyxl
 ---> Running in 5d2f4cccd2e3
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting openpyxl
  Downloading openpyxl-3.1.2-py2.py3-none-any.whl.metadata (2.5 kB)
Collecting et-xmlfile (from openpyxl)
  Downloading et_xmlfile-1.1.0-py3-none-any.whl (4.7 kB)
Downloading openpyxl-3.1.2-py2.py3-none-any.whl (249 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 250.0/250.0 kB 499.7 kB/s eta 0:00:00
Installing collected packages: et-xmlfile, openpyxl
Successfully installed et-xmlfile-1.1.0 openpyxl-3.1.2
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 5d2f4cccd2e3
 ---> 8bbcb51eebeb
Step 36/45 : RUN pip install -U --no-cache-dir jsonlines
 ---> Running in 5335b2ce6ba6
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting jsonlines
  Downloading jsonlines-4.0.0-py3-none-any.whl.metadata (1.6 kB)
Requirement already satisfied: attrs>=19.2.0 in /usr/local/lib/python3.8/dist-packages (from jsonlines) (22.2.0)
Downloading jsonlines-4.0.0-py3-none-any.whl (8.7 kB)
Installing collected packages: jsonlines
Successfully installed jsonlines-4.0.0
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 5335b2ce6ba6
 ---> 5eebb4c326b2
Step 37/45 : RUN pip install -U --no-cache-dir fire
 ---> Running in f932ca8ff06e
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting fire
  Downloading fire-0.5.0.tar.gz (88 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 88.3/88.3 kB 305.6 kB/s eta 0:00:00
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: six in /usr/local/lib/python3.8/dist-packages (from fire) (1.16.0)
Collecting termcolor (from fire)
  Downloading termcolor-2.4.0-py3-none-any.whl.metadata (6.1 kB)
Downloading termcolor-2.4.0-py3-none-any.whl (7.7 kB)
Building wheels for collected packages: fire
  Building wheel for fire (setup.py): started
  Building wheel for fire (setup.py): finished with status 'done'
  Created wheel for fire: filename=fire-0.5.0-py2.py3-none-any.whl size=116952 sha256=5b3e3eb0e03a1a7a84a33812d174a12737acd31b5b47328550b0386538407143
  Stored in directory: /tmp/pip-ephem-wheel-cache-uq1970gj/wheels/5b/eb/43/7295e71293b218ddfd627f935229bf54af9018add7fbb5aac6
Successfully built fire
Installing collected packages: termcolor, fire
Successfully installed fire-0.5.0 termcolor-2.4.0
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container f932ca8ff06e
 ---> 4cc738945f8b
Step 38/45 : RUN pip install -U --no-cache-dir rich
 ---> Running in f84aa263da2b
Looking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Requirement already satisfied: rich in /usr/local/lib/python3.8/dist-packages (13.7.0)
Requirement already satisfied: markdown-it-py>=2.2.0 in /usr/local/lib/python3.8/dist-packages (from rich) (2.2.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /usr/local/lib/python3.8/dist-packages (from rich) (2.15.0)
Requirement already satisfied: typing-extensions<5.0,>=4.0.0 in /usr/local/lib/python3.8/dist-packages (from rich) (4.9.0)
Requirement already satisfied: mdurl~=0.1 in /usr/local/lib/python3.8/dist-packages (from markdown-it-py>=2.2.0->rich) (0.1.2)
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container f84aa263da2b
 ---> 2b2a52373df5
Step 39/45 : RUN pip uninstall -y trl accelerate transformer peft deepspeed datasets     && pip install --no-cache-dir trl[deepspeed,peft] datasets
 ---> Running in 16a62f38ba42
[91mWARNING: Skipping trl as it is not installed.
[0m[91mWARNING: Skipping accelerate as it is not installed.
[0m[91mWARNING: Skipping transformer as it is not installed.
[0m[91mWARNING: Skipping peft as it is not installed.
[0m[91mWARNING: Skipping deepspeed as it is not installed.
[0m[91mWARNING: Skipping datasets as it is not installed.
[0m[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mLooking in indexes: https://pypi.org/simple, https://pypi.ngc.nvidia.com
Collecting datasets
  Downloading datasets-2.17.1-py3-none-any.whl.metadata (20 kB)
Collecting trl[deepspeed,peft]
  Downloading trl-0.7.11-py3-none-any.whl.metadata (10 kB)
Requirement already satisfied: torch>=1.4.0 in /usr/local/lib/python3.8/dist-packages (from trl[deepspeed,peft]) (2.1.0a0+fe05266)
Collecting transformers>=4.31.0 (from trl[deepspeed,peft])
  Downloading transformers-4.38.1-py3-none-any.whl.metadata (131 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 131.1/131.1 kB 2.3 MB/s eta 0:00:00
Requirement already satisfied: numpy>=1.18.2 in /usr/local/lib/python3.8/dist-packages (from trl[deepspeed,peft]) (1.22.2)
Collecting accelerate (from trl[deepspeed,peft])
  Downloading accelerate-0.27.2-py3-none-any.whl.metadata (18 kB)
Collecting tyro>=0.5.11 (from trl[deepspeed,peft])
  Downloading tyro-0.7.3-py3-none-any.whl.metadata (7.7 kB)
Collecting deepspeed>=0.9.5 (from trl[deepspeed,peft])
  Downloading deepspeed-0.13.2.tar.gz (1.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 1.5 MB/s eta 0:00:00
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Collecting peft>=0.4.0 (from trl[deepspeed,peft])
  Downloading peft-0.8.2-py3-none-any.whl.metadata (25 kB)
Requirement already satisfied: filelock in /usr/local/lib/python3.8/dist-packages (from datasets) (3.11.0)
Collecting pyarrow>=12.0.0 (from datasets)
  Downloading pyarrow-15.0.0-cp38-cp38-manylinux_2_28_x86_64.whl.metadata (3.0 kB)
Collecting pyarrow-hotfix (from datasets)
  Downloading pyarrow_hotfix-0.6-py3-none-any.whl.metadata (3.6 kB)
Collecting dill<0.3.9,>=0.3.0 (from datasets)
  Downloading dill-0.3.8-py3-none-any.whl.metadata (10 kB)
Requirement already satisfied: pandas in /usr/local/lib/python3.8/dist-packages (from datasets) (1.5.2)
Requirement already satisfied: requests>=2.19.0 in /usr/local/lib/python3.8/dist-packages (from datasets) (2.28.2)
Requirement already satisfied: tqdm>=4.62.1 in /usr/local/lib/python3.8/dist-packages (from datasets) (4.65.0)
Collecting xxhash (from datasets)
  Downloading xxhash-3.4.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (12 kB)
Collecting multiprocess (from datasets)
  Downloading multiprocess-0.70.16-py38-none-any.whl.metadata (7.1 kB)
Collecting fsspec<=2023.10.0,>=2023.1.0 (from fsspec[http]<=2023.10.0,>=2023.1.0->datasets)
  Downloading fsspec-2023.10.0-py3-none-any.whl.metadata (6.8 kB)
Requirement already satisfied: aiohttp in /usr/local/lib/python3.8/dist-packages (from datasets) (3.8.4)
Requirement already satisfied: huggingface-hub>=0.19.4 in /usr/local/lib/python3.8/dist-packages (from datasets) (0.20.3)
Requirement already satisfied: packaging in /usr/local/lib/python3.8/dist-packages (from datasets) (23.0)
Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.8/dist-packages (from datasets) (6.0)
Collecting hjson (from deepspeed>=0.9.5->trl[deepspeed,peft])
  Downloading hjson-3.1.0-py3-none-any.whl.metadata (2.6 kB)
Requirement already satisfied: ninja in /usr/local/lib/python3.8/dist-packages/ninja-1.11.1.1-py3.8-linux-x86_64.egg (from deepspeed>=0.9.5->trl[deepspeed,peft]) (1.11.1.1)
Requirement already satisfied: psutil in /usr/local/lib/python3.8/dist-packages (from deepspeed>=0.9.5->trl[deepspeed,peft]) (5.9.4)
Collecting py-cpuinfo (from deepspeed>=0.9.5->trl[deepspeed,peft])
  Downloading py_cpuinfo-9.0.0-py3-none-any.whl.metadata (794 bytes)
Requirement already satisfied: pydantic in /usr/local/lib/python3.8/dist-packages (from deepspeed>=0.9.5->trl[deepspeed,peft]) (2.6.1)
Collecting pynvml (from deepspeed>=0.9.5->trl[deepspeed,peft])
  Downloading pynvml-11.5.0-py3-none-any.whl.metadata (7.8 kB)
Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (22.2.0)
Requirement already satisfied: charset-normalizer<4.0,>=2.0 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (3.1.0)
Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (6.0.4)
Requirement already satisfied: async-timeout<5.0,>=4.0.0a3 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (4.0.2)
Requirement already satisfied: yarl<2.0,>=1.0 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (1.8.2)
Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (1.3.3)
Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.8/dist-packages (from aiohttp->datasets) (1.3.1)
Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.8/dist-packages (from huggingface-hub>=0.19.4->datasets) (4.9.0)
Collecting safetensors (from peft>=0.4.0->trl[deepspeed,peft])
  Downloading safetensors-0.4.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.8 kB)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.8/dist-packages (from requests>=2.19.0->datasets) (3.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.8/dist-packages (from requests>=2.19.0->datasets) (1.26.15)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.8/dist-packages (from requests>=2.19.0->datasets) (2022.12.7)
Requirement already satisfied: sympy in /usr/local/lib/python3.8/dist-packages (from torch>=1.4.0->trl[deepspeed,peft]) (1.11.1)
Requirement already satisfied: networkx in /usr/local/lib/python3.8/dist-packages (from torch>=1.4.0->trl[deepspeed,peft]) (2.6.3)
Requirement already satisfied: jinja2 in /usr/local/lib/python3.8/dist-packages (from torch>=1.4.0->trl[deepspeed,peft]) (3.1.2)
Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.8/dist-packages (from transformers>=4.31.0->trl[deepspeed,peft]) (2023.3.23)
Collecting tokenizers<0.19,>=0.14 (from transformers>=4.31.0->trl[deepspeed,peft])
  Downloading tokenizers-0.15.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.7 kB)
Collecting docstring-parser>=0.14.1 (from tyro>=0.5.11->trl[deepspeed,peft])
  Downloading docstring_parser-0.15-py3-none-any.whl.metadata (2.4 kB)
Requirement already satisfied: rich>=11.1.0 in /usr/local/lib/python3.8/dist-packages (from tyro>=0.5.11->trl[deepspeed,peft]) (13.7.0)
Collecting shtab>=1.5.6 (from tyro>=0.5.11->trl[deepspeed,peft])
  Downloading shtab-1.7.0-py3-none-any.whl.metadata (7.3 kB)
Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.8/dist-packages (from pandas->datasets) (2.8.2)
Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.8/dist-packages (from pandas->datasets) (2023.3)
Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.8/dist-packages (from python-dateutil>=2.8.1->pandas->datasets) (1.16.0)
Requirement already satisfied: markdown-it-py>=2.2.0 in /usr/local/lib/python3.8/dist-packages (from rich>=11.1.0->tyro>=0.5.11->trl[deepspeed,peft]) (2.2.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /usr/local/lib/python3.8/dist-packages (from rich>=11.1.0->tyro>=0.5.11->trl[deepspeed,peft]) (2.15.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.8/dist-packages (from jinja2->torch>=1.4.0->trl[deepspeed,peft]) (2.1.2)
Requirement already satisfied: annotated-types>=0.4.0 in /usr/local/lib/python3.8/dist-packages (from pydantic->deepspeed>=0.9.5->trl[deepspeed,peft]) (0.6.0)
Requirement already satisfied: pydantic-core==2.16.2 in /usr/local/lib/python3.8/dist-packages (from pydantic->deepspeed>=0.9.5->trl[deepspeed,peft]) (2.16.2)
Requirement already satisfied: mpmath>=0.19 in /usr/local/lib/python3.8/dist-packages (from sympy->torch>=1.4.0->trl[deepspeed,peft]) (1.3.0)
Requirement already satisfied: mdurl~=0.1 in /usr/local/lib/python3.8/dist-packages (from markdown-it-py>=2.2.0->rich>=11.1.0->tyro>=0.5.11->trl[deepspeed,peft]) (0.1.2)
Downloading datasets-2.17.1-py3-none-any.whl (536 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 536.7/536.7 kB 95.8 kB/s eta 0:00:00
Downloading dill-0.3.8-py3-none-any.whl (116 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 116.3/116.3 kB 218.1 kB/s eta 0:00:00
Downloading fsspec-2023.10.0-py3-none-any.whl (166 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 166.4/166.4 kB 263.7 kB/s eta 0:00:00
Downloading peft-0.8.2-py3-none-any.whl (183 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 183.4/183.4 kB 443.2 kB/s eta 0:00:00
Downloading accelerate-0.27.2-py3-none-any.whl (279 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 280.0/280.0 kB 653.5 kB/s eta 0:00:00
Downloading pyarrow-15.0.0-cp38-cp38-manylinux_2_28_x86_64.whl (38.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 38.4/38.4 MB 4.9 MB/s eta 0:00:00
Downloading transformers-4.38.1-py3-none-any.whl (8.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.5/8.5 MB 2.9 MB/s eta 0:00:00
Downloading tyro-0.7.3-py3-none-any.whl (79 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.8/79.8 kB 1.1 MB/s eta 0:00:00
Downloading multiprocess-0.70.16-py38-none-any.whl (132 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 132.6/132.6 kB 1.1 MB/s eta 0:00:00
Downloading pyarrow_hotfix-0.6-py3-none-any.whl (7.9 kB)
Downloading trl-0.7.11-py3-none-any.whl (155 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 1.1 MB/s eta 0:00:00
Downloading xxhash-3.4.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (194 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 194.6/194.6 kB 755.3 kB/s eta 0:00:00
Downloading docstring_parser-0.15-py3-none-any.whl (36 kB)
Downloading safetensors-0.4.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 946.2 kB/s eta 0:00:00
Downloading shtab-1.7.0-py3-none-any.whl (14 kB)
Downloading tokenizers-0.15.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 1.6 MB/s eta 0:00:00
Downloading hjson-3.1.0-py3-none-any.whl (54 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.0/54.0 kB 21.4 MB/s eta 0:00:00
Downloading py_cpuinfo-9.0.0-py3-none-any.whl (22 kB)
Downloading pynvml-11.5.0-py3-none-any.whl (53 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.1/53.1 kB 2.1 MB/s eta 0:00:00
Building wheels for collected packages: deepspeed
  Building wheel for deepspeed (setup.py): started
  Building wheel for deepspeed (setup.py): finished with status 'done'
  Created wheel for deepspeed: filename=deepspeed-0.13.2-py3-none-any.whl size=1360202 sha256=3ffa0006b6e7ba02c2e8edb6824e76e4d3531a3e346bd790bb329933b6f5e7b3
  Stored in directory: /tmp/pip-ephem-wheel-cache-iolya4s3/wheels/41/32/c2/4facc86038168089ba3c9ed0ba69f3dd2ce284a9e63f1ad9d3
Successfully built deepspeed
Installing collected packages: py-cpuinfo, hjson, xxhash, shtab, safetensors, pynvml, pyarrow-hotfix, pyarrow, fsspec, docstring-parser, dill, multiprocess, tyro, tokenizers, deepspeed, accelerate, transformers, datasets, trl, peft
  Attempting uninstall: pyarrow
    Found existing installation: pyarrow 10.0.1.dev0+ga6eabc2b.d20230410
    Uninstalling pyarrow-10.0.1.dev0+ga6eabc2b.d20230410:
      Successfully uninstalled pyarrow-10.0.1.dev0+ga6eabc2b.d20230410
  Attempting uninstall: fsspec
    Found existing installation: fsspec 2024.2.0
    Uninstalling fsspec-2024.2.0:
      Successfully uninstalled fsspec-2024.2.0
[91mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
dask-cuda 23.2.0 requires pynvml<11.5,>=11.0.0, but you have pynvml 11.5.0 which is incompatible.
[0mSuccessfully installed accelerate-0.27.2 datasets-2.17.1 deepspeed-0.13.2 dill-0.3.8 docstring-parser-0.15 fsspec-2023.10.0 hjson-3.1.0 multiprocess-0.70.16 peft-0.8.2 py-cpuinfo-9.0.0 pyarrow-15.0.0 pyarrow-hotfix-0.6 pynvml-11.5.0 safetensors-0.4.2 shtab-1.7.0 tokenizers-0.15.2 transformers-4.38.1 trl-0.7.11 tyro-0.7.3 xxhash-3.4.1
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 16a62f38ba42
 ---> 2e70ec427313
Step 40/45 : RUN wget -O /root/.vimrc 'https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBc01LbTN0MEszbFlnWlZsc0JJM1hhTGR3bWNJNHc/root/content'     && git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim     && vim +PluginInstall +qall
 ---> Running in 218eb8d94142
[91m--2024-02-22 22:33:55--  https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBc01LbTN0MEszbFlnWlZsc0JJM1hhTGR3bWNJNHc/root/content
[0m[91mConnecting to 127.0.0.1:65530... [0m[91mconnected.
[0m[91mProxy request sent, awaiting response... [0m[91m302 Found
Location: https://j9ldeg.bn.files.1drv.com/y4mtzRZWI83HDBAzUGv3_D6No7Tn7-ArWuaS-0qYpuDtsXCoA-KlV9jKj1D8rHTAXNB7AWKbEnN2lu3toHKSeA0d-St7nOInhHbv4vmz9XlPQss2nswTGnVhe6gc4RLPVacpWuMEni-gft1uXBJG4N1HPSbekT0GZ6a_MJ62O0XisHyqVc5X6Bmz3PI90nn_1d-UT2F8yddmodRpg4Rnh-lxg/.vimrc [following]
--2024-02-22 22:33:56--  https://j9ldeg.bn.files.1drv.com/y4mtzRZWI83HDBAzUGv3_D6No7Tn7-ArWuaS-0qYpuDtsXCoA-KlV9jKj1D8rHTAXNB7AWKbEnN2lu3toHKSeA0d-St7nOInhHbv4vmz9XlPQss2nswTGnVhe6gc4RLPVacpWuMEni-gft1uXBJG4N1HPSbekT0GZ6a_MJ62O0XisHyqVc5X6Bmz3PI90nn_1d-UT2F8yddmodRpg4Rnh-lxg/.vimrc
Connecting to 127.0.0.1:65530... [0m[91mconnected.
[0m[91mProxy request sent, awaiting response... [0m[91m200 OK
[0m[91mLength: 5444 (5.3K) [application/octet-stream]
Saving to: ‘/root/.vimrc’
[0m[91m
     0K ...[0m[91m..                                       [0m[91m          100%  109M=0s[0m[91m

[0m[91m2024-02-22 22:33:57 (109 MB/s) - ‘/root/.vimrc’ saved [5444/5444]

[0m[91mCloning into '/root/.vim/bundle/Vundle.vim'...
[0m[91mVim: Warning: Output is not to a terminal
Vim: Warning: Input is not from a terminal
[0m[m[m[0m[H[2J[24;1H[1m[37m[41mError detected while processing Syntax Autocommands for "*":[0m

[1m[37m[41mE492: Not an editor command: RainbowParenthesesLoadRound[0m

[1m[37m[41mE492: Not an editor command: RainbowParenthesesLoadSquare[0m

[1m[37m[41mE492: Not an editor command: RainbowParenthesesLoadBraces[0m

[1m[37m[41mE492: Not an editor command: RainbowParenthesesLoadRound[0m

[1m[37m[41mE492: Not an editor command: RainbowParenthesesLoadSquare[0m

[1m[37m[41mE492: Not an editor command: RainbowParenthesesLoadBraces[0m[1;1H[6L[1;1H[34m" Installing plugins to /root/.vim/bundl[0m[7m|[0m
[34me[0m[39C[7m|[0m
[4m[33mPlugin[m[0m[4m [m[4m[31m'VundleVim/Vundle.vim'[m[0m[4m           [m[7m|[0m
[33mPlugin[0m [31m'Chiel92/vim-autoformat'[0m[9C[7m|[0m
[33mPlugin[0m [31m'scrooloose/nerdtree'[0m[12C[7m|[0m
[33mPlugin[0m [31m'kien/rainbow_parentheses.vim'[0m   [7m|[0m
[33mPlugin[0m [31m'davidhalter/jedi-vim'[0m[11C[7m|[0m
[33mHelptags[0m[32C[7m|[9;41H|[10;41H|[11;41H|[12;41H|[13;41H|[14;41H|[15;41H|[16;41H|[17;41H|[18;41H|[19;41H|[20;41H|[21;41H|[22;41H|[0m[10;1H[1m[34m~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       
~                                       [0m
[1m[7m<taller [Preview][RO] 2,1            All [0m[1;42H[4m[33m  1 [m[0m[4m                                   [m[2;42H[1m[34m~                                      [3;42H~                                      [4;42H~                                      [5;42H~                                      [6;42H~                                      [7;42H~                                      [8;42H~                                      [9;42H~                                      [10;42H~                                      [11;42H~                                      [12;42H~                                      [13;42H~                                      [14;42H~                                      [15;42H~                                      [16;42H~                                      [17;42H~                                      [18;42H~                                      [19;42H~                                      [20;42H~                                      [21;42H~                                      [22;42H~                                      [0m[23;42H[7m[No Name]            0,0-1          All[0m[24;1H[K[3;1H[24;1HProcessing 'VundleVim/Vundle.vim'[1;1H[34m[47m  [0m[34m" Installing plugins to /root/.vim/bun[0m
[34m[47m  [0m[34mdle
. [0m[4m[33mPlugin[m[0m[4m [m[4m[31m'VundleVim/Vundle.vim'[m[0m
[34m[47m  [0m[33mPlugin[0m [31m'Chiel92/vim-autoformat'[0m
[34m[47m  [0m[33mPlugin[0m [31m'scrooloose/nerdtree'[0m
[34m[47m  [0m[33mPlugin[0m [31m'kien/rainbow_parentheses.vim'[0m
[34m[47m  [0m[33mPlugin[0m [31m'davidhalter/jedi-vim'[0m
[34m[47m  [0m[33mHelptags[0m
[34m[47m  [0m[24;1H'VundleVim/Vundle.vim' already installed[3;3H[33mPlugin[0m [31m'VundleVim/Vundle.vim'[0m         [4;3H[4m[33mPlugin[m[0m[4m [m[4m[31m'Chiel92/vim-autoformat'[m[0m[4m       [m[23;23H[1m[7m3[0m
Processing 'Chiel92/vim-autoformat'[24;36H[K[4;3H
[34m+ [0m[24;1H'Chiel92/vim-autoformat' installed[24;35H[K[4;3H[33mPlugin[0m [31m'Chiel92/vim-autoformat'[0m       [5;3H[4m[33mPlugin[m[0m[4m [m[4m[31m'scrooloose/nerdtree'[m[0m[4m          [m[23;23H[1m[7m4[0m
Processing 'scrooloose/nerdtree'[24;33H[K[5;3H
[34m+ [0m[24;1H'scrooloose/nerdtree' installed[24;32H[K[5;3H[33mPlugin[0m [31m'scrooloose/nerdtree'[0m          [6;3H[4m[33mPlugin[m[0m[4m [m[4m[31m'kien/rainbow_parentheses.vim'[m[0m[4m [m[23;23H[1m[7m5[0m
Processing 'kien/rainbow_parentheses.vim'[6;3H
[34m+ [0m[24;1H'kien/rainbow_parentheses.vim' installed[24;41H[K[6;3H[33mPlugin[0m [31m'kien/rainbow_parentheses.vim'[0m [7;3H[4m[33mPlugin[m[0m[4m [m[4m[31m'davidhalter/jedi-vim'[m[0m[4m         [m[23;23H[1m[7m6[0m
Processing 'davidhalter/jedi-vim'[24;34H[K[7;3H
[34m+ [0m[24;1H'davidhalter/jedi-vim' installed[24;33H[K[7;3H[33mPlugin[0m [31m'davidhalter/jedi-vim'[0m         [8;3H[4m[33mHelptags[m[0m[4m                              [m[23;23H[1m[7m7[0m
Processing helptags[24;20H[K[8;3H
[34m* [0m[24;1Hhelptags regenerated[8;3H[33mHelptags[0m                              [9;3H[4m                                      [m[23;23H[1m[7m8,0-1[0m
Done! [24;7H[K[24;1H
Removing intermediate container 218eb8d94142
 ---> dd93d36c45ab
Step 41/45 : RUN mkdir -p /root/.config/pudb     && wget -O /root/.config/pudb/pudb.cfg 'https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBc01LbTN0MEszbFlnWlZrQjlYNDQtTEJHWnoxVVE/root/content'
 ---> Running in 7f5b4ca5a603
[91m--2024-02-22 22:34:31--  https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBc01LbTN0MEszbFlnWlZrQjlYNDQtTEJHWnoxVVE/root/content
[0m[91mConnecting to 127.0.0.1:65530... [0m[91mconnected.
[0m[91mProxy request sent, awaiting response... [0m[91m302 Found
Location: https://j9lceg.bn.files.1drv.com/y4mbgmrYGJtiievZpE_OFKULPMEGo7ERw9kipYsvehpYSKqDApY60DijwF2qpAT0wUtn-SqQBKG5FnOCNdXgTj9JVutJZHdkcbduMyEBY8B0Gz11l4Zx4Ebo5MrrRTLZZydBCDs74nNLzNZ7hlLoNcQUacMYj0rzBGzgSwExHP34B4mlu5FsYr_bEV0C8OckQYuLQz2_2bnm26_DLYHMEMGOQ/pudb.cfg [following]
[0m[91m--2024-02-22 22:34:33--  https://j9lceg.bn.files.1drv.com/y4mbgmrYGJtiievZpE_OFKULPMEGo7ERw9kipYsvehpYSKqDApY60DijwF2qpAT0wUtn-SqQBKG5FnOCNdXgTj9JVutJZHdkcbduMyEBY8B0Gz11l4Zx4Ebo5MrrRTLZZydBCDs74nNLzNZ7hlLoNcQUacMYj0rzBGzgSwExHP34B4mlu5FsYr_bEV0C8OckQYuLQz2_2bnm26_DLYHMEMGOQ/pudb.cfg
Connecting to 127.0.0.1:65530... [0m[91mconnected.
[0m[91mProxy request sent, awaiting response... [0m[91m200 OK
[0m[91mLength: 467 [application/octet-stream]
Saving to: ‘/root/.config/pudb/pudb.cfg’
[0m[91m
     0K                       [0m[91m                    [0m[91m     [0m[91m       100%[0m[91m  114M=0s

[0m[91m2024-02-22 22:34:34 (114 MB/s) - ‘/root/.config/pudb/pudb.cfg’ saved [467/467]

[0mRemoving intermediate container 7f5b4ca5a603
 ---> 08201e0711c9
Step 42/45 : RUN mkdir -p /root/.config/htop     && wget -O /root/.config/htop/htoprc 'https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBc01LbTN0MEszbFlnWllUeHZqZUMyb2N0MzVKZlE/root/content'
 ---> Running in d89a369a2763
[91m--2024-02-22 22:34:35--  https://api.onedrive.com/v1.0/shares/u!aHR0cHM6Ly8xZHJ2Lm1zL3UvcyFBc01LbTN0MEszbFlnWllUeHZqZUMyb2N0MzVKZlE/root/content
[0m[91mConnecting to 127.0.0.1:65530... [0m[91mconnected.
[0m[91mProxy request sent, awaiting response... [0m[91m302 Found
Location: https://kdkoca.bn.files.1drv.com/y4mfBUaef3yb8YEI_v3cL7vzUVMscot-39-340Yl7jLopM-LEuOrcthfDXY5pAcG8_Hm15mMuv7buGkQaJKzp86npa_KAEnC6Z20Z_-cDeI-gi83qY_lKWu7adKcQv4tiuUlqlqgnxNL5rEWaPAdbDm57JtLV2g4Bl2Ap2izVmwUgLAdsTuJgP0QJx90oCZdkN1yBpnc21ksTOUWOyZ1d-OrA/htoprc [following]
--2024-02-22 22:34:36--  https://kdkoca.bn.files.1drv.com/y4mfBUaef3yb8YEI_v3cL7vzUVMscot-39-340Yl7jLopM-LEuOrcthfDXY5pAcG8_Hm15mMuv7buGkQaJKzp86npa_KAEnC6Z20Z_-cDeI-gi83qY_lKWu7adKcQv4tiuUlqlqgnxNL5rEWaPAdbDm57JtLV2g4Bl2Ap2izVmwUgLAdsTuJgP0QJx90oCZdkN1yBpnc21ksTOUWOyZ1d-OrA/htoprc
Connecting to 127.0.0.1:65530... [0m[91mconnected.
[0m[91mProxy request sent, awaiting response... [0m[91m200 OK
[0m[91mLength: 660 [application/octet-stream]
Saving to: ‘/root/.config/htop/htoprc’
[0m[91m
     0K                  [0m[91m             [0m[91m      [0m[91m           [0m[91m       100%[0m[91m  159M=0s

[0m[91m2024-02-22 22:34:37 (159 MB/s) - ‘/root/.config/htop/htoprc’ saved [660/660]

[0mRemoving intermediate container d89a369a2763
 ---> 78c46cb24a33
Step 43/45 : RUN echo 'termcapinfo xterm* ti@:te@' > /root/.screenrc
 ---> Running in 86b772e4800d
Removing intermediate container 86b772e4800d
 ---> 3f63ab6b1c86
Step 44/45 : RUN mkdir -p /scripts && echo -e '#!/bin/bash\nSSHD_PORT=22001\nCMD_TO_RUN=""\nwhile (( "$#" )); do\n  case "$1" in\n    --sshd_port)\n      if [ -n "$2" ] && [ ${2:0:1} != "-" ]; then\n        SSHD_PORT=$2\n        shift 2\n      else\n        echo "Error: Argument for $1 is missing" >&2\n        exit 1\n      fi\n      ;;\n    --cmd)\n      if [ -n "$2" ] && [ ${2:0:1} != "-" ]; then\n        CMD_TO_RUN=$2\n        shift 2\n      else\n        echo "Error: Argument for $1 is missing" >&2\n        exit 1\n      fi\n      ;;\n    -*|--*=) \n      echo "Error: Unsupported flag $1" >&2\n      exit 1\n      ;;\n    *) \n      shift\n      ;;\n  esac\ndone\nsed -i "s/#Port 22/Port $SSHD_PORT/" /etc/ssh/sshd_config\n/usr/sbin/sshd\nif [ -n "$CMD_TO_RUN" ]; then\n  bash -c "$CMD_TO_RUN"\nelse\n  /bin/bash\nfi' > /scripts/startup.sh && chmod +x /scripts/startup.sh
 ---> Running in dda19edf6688
Removing intermediate container dda19edf6688
 ---> 751a0611a507
Step 45/45 : CMD ["/bin/bash", "/scripts/startup.sh"]
 ---> Running in 1c38cb2d6589
Removing intermediate container 1c38cb2d6589
 ---> 6b9f11fa5eff
[Warning] One or more build-args [all_proxy] were not consumed
Successfully built 6b9f11fa5eff
Successfully tagged llm:latest
